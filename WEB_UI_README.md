# JSON Compare Web UI

## 概要
JSON Compare APIのWeb UIインターフェースが実装されました。ブラウザから簡単にJSONLファイルをアップロードして類似度計算を実行できます。

## 主な機能
- 📁 ドラッグ＆ドロップ対応のファイルアップロード
- 📊 リアルタイムの処理状況表示
- 💾 結果のダウンロード機能
- 🎨 レスポンシブデザイン（モバイル対応）
- ⚡ GPU使用オプション

## 起動方法

```bash
# APIサーバーを起動
uv run python -m src.api

# または
uv run json_compare_api
```

サーバーが起動したら、ブラウザで以下のURLにアクセス：
```
http://localhost:18081/ui
```

## 使い方

1. **ファイル選択**: 「クリックしてファイルを選択」ボタンからJSONLファイルを選択
2. **出力形式選択**:
   - `スコア（全体平均）`: 全体の類似度スコアと統計情報
   - `ファイル（詳細結果）`: 各行の詳細な類似度情報
3. **GPU使用**: 高速処理が必要な場合はチェックボックスをON
4. **計算実行**: 「📊 類似度を計算」ボタンをクリック
5. **結果確認**: 処理完了後、結果が画面に表示されます
6. **ダウンロード**: 結果をJSONファイルとしてダウンロード可能

## UIの特徴

### デザイン
- モダンなグラデーションデザイン
- 直感的なユーザーインターフェース
- プログレスインジケーター付きのローディング表示
- エラー時の分かりやすいフィードバック

### レスポンシブ対応
- デスクトップ、タブレット、モバイルに対応
- 画面サイズに応じた最適な表示

### ユーザビリティ
- ファイル選択時の視覚的フィードバック
- 処理中のボタン無効化
- エラーメッセージの明確な表示
- 結果の即座ダウンロード

## エンドポイント

- `GET /ui` - Web UIページ
- `POST /upload` - ファイルアップロードAPI
- `GET /health` - ヘルスチェック
- `GET /` - API情報

## テスト

Playwrightを使用したE2Eテストが実装されています：

```bash
# テストの実行
uv pip install pytest pytest-asyncio playwright
uv run playwright install chromium
uv run pytest tests/test_ui_playwright.py -v
```

## 技術スタック

- **バックエンド**: FastAPI
- **フロントエンド**: Pure HTML/CSS/JavaScript
- **スタイリング**: CSS3（グラデーション、アニメーション）
- **テスト**: Playwright

## セキュリティ考慮事項

- ファイルサイズ制限: 100MB
- 拡張子検証: .jsonlのみ許可
- 一時ファイルの自動削除
- エラー情報のサニタイゼーション

## ブラウザ対応

- Chrome/Edge (最新版)
- Firefox (最新版)
- Safari (最新版)
- モバイルブラウザ対応