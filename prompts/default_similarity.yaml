version: '1.0'
metadata:
  author: json_compare
  description: デフォルトの類似度判定プロンプトテンプレート
  created_at: '2025-09-18'
  version_history:
    - version: '1.0'
      date: '2025-09-18'
      changes: '初版作成'

prompts:
  system: |
    あなたは日本語テキストの意味的類似度を評価する専門家です。
    2つのテキストを比較し、その類似度を客観的に判定してください。
    評価は以下の観点から行ってください：
    1. 意味的な内容の一致度
    2. 使用されている概念や用語の共通性
    3. 文脈や意図の類似性
    4. 情報の完全性と正確性

  user: |
    以下の2つのテキストの類似度を評価してください。

    テキスト1:
    {text1}

    テキスト2:
    {text2}

    類似度を以下の形式で回答してください：

    **スコア**: [0.0-1.0の数値]
    **カテゴリ**: [完全一致/非常に類似/類似/やや類似/低い類似度]
    **理由**: [判定の根拠を2-3文で説明]

    評価基準：
    - 1.0 (完全一致): テキストが完全に同じか、言い換えのみの違い
    - 0.8-0.99 (非常に類似): 主要な内容がほぼ同じ、細部のみ異なる
    - 0.6-0.79 (類似): 同じトピック、主要な点が一致
    - 0.4-0.59 (やや類似): 部分的に共通点がある
    - 0.0-0.39 (低い類似度): ほとんど関連性がない

parameters:
  model: qwen3-14b-awq
  temperature: 0.2
  max_tokens: 128
  top_p: 0.95
  frequency_penalty: 0.0
  presence_penalty: 0.0
  chat_template_kwargs:
    enable_thinking: false

output_parsing:
  score_pattern: '\*\*スコア\*\*[：:]\s*([-]?[0-9.０-９．]+)'
  category_pattern: '\*\*カテゴリ\*\*[：:]\s*([^\n]+)'
  reason_pattern: '\*\*理由\*\*[：:]\s*(.+?)(?=\n\S|$)'

category_score_mapping:
  完全一致: 1.0
  非常に類似: 0.9
  類似: 0.7
  やや類似: 0.5
  低い類似度: 0.2